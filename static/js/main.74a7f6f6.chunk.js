(this["webpackJsonpdecentralized-video-streaming-app"]=this["webpackJsonpdecentralized-video-streaming-app"]||[]).push([[0],{1004:function(e,t){},1006:function(e,t){},1012:function(e,t){},1013:function(e,t){},1016:function(e,t){},1032:function(e,t){},1035:function(e,t){},1040:function(e,t){},1051:function(e,t){},1052:function(e,t){},1054:function(e,t){},1107:function(e,t,n){},1108:function(e,t,n){},1109:function(e,t,n){},1110:function(e,t,n){},1111:function(e,t,n){},1112:function(e,t,n){},1159:function(e,t){},1386:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(36),o=n.n(r),s=(n(491),n(4)),l=n.n(s),c=n(13),u=n(15),p=n(23),m=n(22),d=n(52),f=n(177),y=n.n(f),h=n(97),g=n.n(h),b=(n(661),n(53)),v=(n(213),n(840),n(160)),w=new(new v(new v.providers.HttpProvider("https://ropsten.infura.io/v3/7b973cc4e4f04c9081ead788d635c300")).eth.Contract)([{inputs:[{internalType:"string",name:"_channelName",type:"string"},{internalType:"string",name:"_email",type:"string"},{internalType:"string",name:"_password",type:"string"}],name:"addUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"deleteUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getArrayLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getUser",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_channelName",type:"string"},{internalType:"string",name:"_email",type:"string"}],name:"isExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"userArray",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"channelName",type:"string"},{internalType:"string",name:"email",type:"string"},{internalType:"string",name:"password",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_email",type:"string"},{internalType:"string",name:"_password",type:"string"}],name:"verifyUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],"0xd4B33a85e8c872F82C9B7785210F2B2C4dBef945");function E(e){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.call();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.message.startsWith("Invalid JSON RPC response")){e.next=11;break}throw e.t0;case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function T(e,t){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(w.methods.verifyUser(t,n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(w.methods.getArrayLength());case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){C.apply(this,arguments)}();var N=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onEmailChange=function(e){a.setState({registerEmail:e.target.value})},a.onPasswordChange=function(e){a.setState({registerPassword:e.target.value})},a.onSubmitSignIn=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=a.state.registerEmail&&""!=a.state.registerPassword){e.next=4;break}alert("Empty input fields!"),e.next=11;break;case 4:return e.next=6,T(a.state.registerEmail,a.state.registerPassword);case 6:if(e.sent){e.next=10;break}alert("Incorrect email or password!"),e.next=11;break;case 10:a.props.onRouteChange("home");case 11:case"end":return e.stop()}}),e)}))),a.state={registerEmail:"",registerPassword:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.onRouteChange;return i.a.createElement("div",{className:"container"},i.a.createElement("img",{src:g.a,className:"",style:{paddingBottom:30,height:300,width:300},alt:"logo"}),i.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},i.a.createElement("main",{className:"pa4 black-80"},i.a.createElement("form",{className:"measure"},i.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},i.a.createElement("legend",{style:{fontFamily:"Roboto Mono"},className:"f4 fw6 ph0 mh0"},"Sign In"),i.a.createElement("div",{className:"mt3"},i.a.createElement("label",{style:{fontFamily:"Roboto Mono"},className:"db fw6 lh-copy f6",for:"email-address"},"Email"),i.a.createElement("input",{autocomplete:"off",className:"pa2 input-reset ba bg-transparent hover-bg-black w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),i.a.createElement("div",{className:"mv3"},i.a.createElement("label",{style:{fontFamily:"Roboto Mono"},className:"db fw6 lh-copy f6",for:"password"},"Password"),i.a.createElement("input",{autocomplete:"off",className:"b pa2 input-reset ba bg-transparent hover-bg-black w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),i.a.createElement("div",{style:{paddingTop:20}},i.a.createElement(b.c,{onClick:this.onSubmitSignIn,style:{fontFamily:"Roboto Mono",width:300},color:"mdb-color"},"CLICK TO JOIN IPFS NETWORK")),i.a.createElement("div",{style:{paddingTop:10}},i.a.createElement(b.c,{onClick:function(){return e("register")},style:{fontFamily:"Roboto Mono",width:300},color:"red"},"REGISTER"))))))}}]),n}(i.a.Component),R=n(483),O=function(e){var t=e.onRouteChange;return i.a.createElement(a.Fragment,null,i.a.createElement("div",{style:{paddingRight:"20px",paddingTop:"10px"}},i.a.createElement(b.c,{style:{fontFamily:"Roboto Mono"},onClick:function(){return t("upload")},color:"red"},"Upload"),i.a.createElement(b.c,{style:{fontFamily:"Roboto Mono"},onClick:function(){return t("signin")},color:"mdb-color"},"Sign-Out")))},M=(n(1108),function(){return i.a.createElement("div",{style:{paddingLeft:"20px"}},i.a.createElement("img",{className:"logo",style:{height:100,width:100},alt:"logo",src:g.a}))}),S=(n(1109),function(){return i.a.createElement(b.d,{className:"enlarge",md:"6",style:{paddingTop:"3px",paddingLeft:"70px"}},i.a.createElement("form",{className:"form-inline mt-4 mb-4"},i.a.createElement(b.e,{icon:"search"}),i.a.createElement("input",{style:{fontFamily:"Roboto Mono"},className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"})))}),B=(n(1110),function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"section-title"},i.a.createElement("h1",null," Videos"),i.a.createElement("div",{className:"divider"})))))}),j=(n(1111),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={imglink:e.imglink,title:e.title,videoLink:e.videoLink},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onRouteChange,a=t.onVideoView;return i.a.createElement("div",{onClick:function(){n("view"),a(e.state.videoLink)},className:"bg-light-gray dib br3 pa3 ma5 grow bw2 shadow-5 container4"},i.a.createElement("img",{altsrc:"thumbnail",src:this.state.imglink,className:"container3"}),i.a.createElement("div",null,i.a.createElement("h2",{style:{fontFamily:"Roboto Mono",paddingTop:15,fontSize:"16px"}},this.state.title)))}}]),n}(i.a.Component)),F=n(484),H=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={videoLink:e.videoLink},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.onRouteChange;return i.a.createElement("div",null,i.a.createElement(a.Fragment,null,i.a.createElement("div",{style:{paddingBottom:"120px"},className:"navigation-bar-2"},i.a.createElement(b.c,{onClick:function(){return e("home")},color:"mdb-color"},"Home"))),i.a.createElement("video",{width:"900px",height:"505px",controls:!0},i.a.createElement("source",{src:this.state.videoLink}),i.a.createElement("p",null,"This browser does not support the video element.")))}}]),n}(i.a.Component),_=n(160),L=new(new _(new _.providers.HttpProvider("https://ropsten.infura.io/v3/7b973cc4e4f04c9081ead788d635c300")).eth.Contract)([{inputs:[{internalType:"string",name:"_title",type:"string"},{internalType:"string",name:"_thumbnailHash",type:"string"},{internalType:"string",name:"_videoHash",type:"string"}],name:"addVideo",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getArrayLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getVideo",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_thumbnailHash",type:"string"},{internalType:"string",name:"_videoHash",type:"string"}],name:"isExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"videoArray",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"date",type:"uint256"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"thumbnailHash",type:"string"},{internalType:"string",name:"videoHash",type:"string"}],stateMutability:"view",type:"function"}],"0x0447031221801f53dEbf8ba99A11d5e564D4d574"),P={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#000000"},size:{value:3,random:!0},line_linked:{enable_auto:!0,distance:150,color:"#000000",opacity:0,width:1}}};function V(e){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.call();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.message.startsWith("Invalid JSON RPC response")){e.next=11;break}throw e.t0;case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function I(){return(I=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(L.methods.getArrayLength());case 2:t=e.sent,console.log(t),n=t,a=0;case 6:if(!(a<n)){e.next=14;break}return e.next=9,V(L.methods.getVideo(a));case 9:t=e.sent,console.log(t);case 11:a++,e.next=6;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){I.apply(this,arguments)}();var U=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onRouteChange=function(t){e.setState({route:t})},e.onVideoView=function(t){e.setState({videoLink:t})},e.createVideos=Object(d.a)(l.a.mark((function t(){var n,a,r,o,s,c,u,p,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,V(L.methods.getArrayLength());case 3:p=t.sent,m=0;case 5:if(!(m<p)){t.next=20;break}return t.next=8,V(L.methods.getVideo(m));case 8:u=(u=t.sent).split("/"),a=u[0],r=u[1],s=u[2],"https://ipfs.io/ipfs/",o="https://ipfs.io/ipfs/".concat(r),c="https://ipfs.io/ipfs/".concat(s),n.push(i.a.createElement(j,{onRouteChange:e.onRouteChange,onVideoView:e.onVideoView,imglink:o,title:a,videoLink:c}));case 17:m++,t.next=5;break;case 20:e.setState({Videos:n});case 21:case"end":return t.stop()}}),t)}))),e.state={route:"signin",videoLink:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.createVideos()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(y.a,{className:"particles",params:P}),"signin"!==this.state.route&"register"!==this.state.route?"home"===this.state.route?i.a.createElement("div",null,i.a.createElement("div",{className:"navigation-bar"},i.a.createElement(M,null),i.a.createElement(S,null),i.a.createElement(O,{onRouteChange:this.onRouteChange})),i.a.createElement(B,null),this.state.Videos):"view"===this.state.route?i.a.createElement(H,{onRouteChange:this.onRouteChange,videoLink:this.state.videoLink}):i.a.createElement(F.a,{onRouteChange:this.onRouteChange}):"signin"===this.state.route?i.a.createElement(N,{onRouteChange:this.onRouteChange}):i.a.createElement(R.a,{onRouteChange:this.onRouteChange}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1383),n(1384),n(1385);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},483:function(e,t,n){"use strict";(function(e){var a=n(4),i=n.n(a),r=n(13),o=n(15),s=n(23),l=n(22),c=n(52),u=n(115),p=n(1),m=n.n(p),d=(n(177),n(97)),f=n.n(d),y=n(53),h=(n(213),n(1107),n(160)),g=n(238).Transaction,b=new h(new h.providers.HttpProvider("https://ropsten.infura.io/v3/7b973cc4e4f04c9081ead788d635c300")),v="0x02B87aE689fa9282820D0936df8bA5e0a4152222",w=new e("f6a3b9d820da379739e5cdc0fc8deab210772a21de8ff1c5b9fe832dee1f8c8b","hex"),E=new b.eth.Contract([{inputs:[{internalType:"string",name:"_channelName",type:"string"},{internalType:"string",name:"_email",type:"string"},{internalType:"string",name:"_password",type:"string"}],name:"addUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"deleteUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getArrayLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getUser",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_channelName",type:"string"},{internalType:"string",name:"_email",type:"string"}],name:"isExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"userArray",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"channelName",type:"string"},{internalType:"string",name:"email",type:"string"},{internalType:"string",name:"password",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_email",type:"string"},{internalType:"string",name:"_password",type:"string"}],name:"verifyUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],"0xd4B33a85e8c872F82C9B7785210F2B2C4dBef945");function x(e,t,n){var a={gasLimit:b.utils.toHex(3e6),gasPrice:b.utils.toHex(1e10),to:"0xd4B33a85e8c872F82C9B7785210F2B2C4dBef945",from:v,data:E.methods.addUser(e,t,n).encodeABI()};T(a)}var T=function(e){return b.eth.getTransactionCount(v).then((function(t){var n=b.utils.toHex(t),a=new g(Object(u.a)(Object(u.a)({},e),{},{nonce:n}),{chain:"ropsten"});a.sign(w);var i=a.serialize().toString("hex");return b.eth.sendSignedTransaction("0x"+i)}))};function k(e){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.call();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.message.startsWith("Invalid JSON RPC response")){e.next=11;break}throw e.t0;case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function N(e,t){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(E.methods.isExisting(t,n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).onChannelChange=function(e){a.setState({registerChannel:e.target.value})},a.onEmailChange=function(e){a.setState({registerEmail:e.target.value})},a.onPasswordChange=function(e){a.setState({registerPassword:e.target.value})},a.onSubmitRegister=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=a.state.registerChannel&&""!=a.state.registerEmail&&""!=a.state.registerPassword){e.next=4;break}alert("Empty input fields!"),e.next=12;break;case 4:return e.next=6,N(a.state.registerChannel,a.state.registerEmail);case 6:if(!e.sent){e.next=10;break}alert("Channel name or email address already registered!"),e.next=12;break;case 10:x(a.state.registerChannel,a.state.registerEmail,a.state.registerPassword),a.props.onRouteChange("home");case 12:case"end":return e.stop()}}),e)}))),a.state={registerChannel:"",registerEmail:"",registerPassword:""},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.onRouteChange;return m.a.createElement("div",{className:"container"},m.a.createElement("img",{src:f.a,className:"",style:{paddingBottom:30,height:300,width:300},alt:"logo"}),m.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},m.a.createElement("main",{className:"pa4 black-80"},m.a.createElement("form",{className:"measure"},m.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},m.a.createElement("legend",{style:{fontFamily:"Roboto Mono"},className:"f4 fw6 ph0 mh0"},"Register"),m.a.createElement("div",{className:"mt3"},m.a.createElement("label",{style:{fontFamily:"Roboto Mono"},className:"db fw6 lh-copy f6",for:"email-address"},"Channel"),m.a.createElement("input",{autocomplete:"off",className:"pa2 input-reset ba bg-transparent hover-bg-black w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onChannelChange})),m.a.createElement("div",{className:"mt3"},m.a.createElement("label",{style:{fontFamily:"Roboto Mono"},className:"db fw6 lh-copy f6",for:"email-address"},"Email"),m.a.createElement("input",{autocomplete:"off",className:"pa2 input-reset ba bg-transparent hover-bg-black w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),m.a.createElement("div",{className:"mv3"},m.a.createElement("label",{style:{fontFamily:"Roboto Mono"},className:"db fw6 lh-copy f6",for:"password"},"Password"),m.a.createElement("input",{autocomplete:"off",className:"b pa2 input-reset ba bg-transparent hover-bg-black w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),m.a.createElement("div",{style:{paddingTop:20}},m.a.createElement(y.c,{onClick:this.onSubmitRegister,style:{fontFamily:"Roboto Mono",width:300},color:"mdb-color"},"CLICK TO REGISTER")),m.a.createElement("div",{style:{paddingTop:10}},m.a.createElement(y.c,{onClick:function(){return e("signin")},style:{fontFamily:"Roboto Mono",width:300,paddingRight:63},color:"red"},m.a.createElement("i",{className:"arrow left"}),m.a.createElement("h",{style:{paddingLeft:20}},"SIGN-IN")))))))}}]),n}(m.a.Component);t.a=O}).call(this,n(3).Buffer)},484:function(e,t,n){"use strict";(function(e){var a=n(4),i=n.n(a),r=n(13),o=n(15),s=n(23),l=n(22),c=n(52),u=n(115),p=n(261),m=n(1),d=n.n(m),f=n(53),y=(n(1112),n(1113),new(n(1114))({host:"ipfs.infura.io",port:5001,protocol:"https"})),h=n(160),g=n(238).Transaction,b=new h(new h.providers.HttpProvider("https://ropsten.infura.io/v3/7b973cc4e4f04c9081ead788d635c300")),v="0x02B87aE689fa9282820D0936df8bA5e0a4152222",w=new e("f6a3b9d820da379739e5cdc0fc8deab210772a21de8ff1c5b9fe832dee1f8c8b","hex"),E=new b.eth.Contract([{inputs:[{internalType:"string",name:"_title",type:"string"},{internalType:"string",name:"_thumbnailHash",type:"string"},{internalType:"string",name:"_videoHash",type:"string"}],name:"addVideo",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getArrayLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getVideo",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_thumbnailHash",type:"string"},{internalType:"string",name:"_videoHash",type:"string"}],name:"isExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"videoArray",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"date",type:"uint256"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"thumbnailHash",type:"string"},{internalType:"string",name:"videoHash",type:"string"}],stateMutability:"view",type:"function"}],"0x0447031221801f53dEbf8ba99A11d5e564D4d574");function x(e,t,n){var a={gasLimit:b.utils.toHex(3e6),gasPrice:b.utils.toHex(1e10),to:"0x0447031221801f53dEbf8ba99A11d5e564D4d574",from:v,data:E.methods.addVideo(e,t,n).encodeABI()};T(a)}var T=function(e){return b.eth.getTransactionCount(v).then((function(t){var n=b.utils.toHex(t),a=new g(Object(u.a)(Object(u.a)({},e),{},{nonce:n}),{chain:"ropsten"});a.sign(w);var i=a.serialize().toString("hex");return b.eth.sendSignedTransaction("0x"+i)}))};function k(e){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.call();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.message.startsWith("Invalid JSON RPC response")){e.next=11;break}throw e.t0;case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function N(e,t){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(E.methods.isExisting(t,n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(t){Object(s.a)(a,t);var n=Object(l.a)(a);function a(t){var o;return Object(r.a)(this,a),(o=n.call(this,t)).onTitleChange=function(e){o.setState({videoTitle:e.target.value})},o.onThumbnailUpload=function(t){t.preventDefault();var n=t.target.files[0],a=new window.FileReader;a.readAsArrayBuffer(n),a.onloadend=function(){o.setState({thumbnailBuffer:e(a.result)}),console.log("thumbnailBuffer",o.state.thumbnailBuffer)}},o.onVideoUpload=function(t){t.preventDefault();var n=t.target.files[0],a=new window.FileReader;a.readAsArrayBuffer(n),a.onloadend=function(){o.setState({videoBuffer:e(a.result)}),console.log("videoBuffer",o.state.videoBuffer)}},o.onSubmit=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,r,s,l,c,u,m,d,f,h,g,b,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=o.state.videoTitle&&""!=o.state.thumbnailBuffer&&""!=o.state.videoBuffer){e.next=5;break}alert("No video title, attached thumbnail, or attached video!"),e.next=83;break;case 5:return e.next=7,N(o.state.thumbnailHash,o.state.videoHash);case 7:if(!e.sent){e.next=11;break}alert("Thumbnail and/or video already exists!"),e.next=83;break;case 11:o.setState({status:"Uploading..."}),document.getElementById("myBtn").disabled=!0,n=!0,a=!1,e.prev=15,s=Object(p.a)(y.add(o.state.thumbnailBuffer));case 17:return e.next=19,s.next();case 19:return l=e.sent,n=l.done,e.next=23,l.value;case 23:if(c=e.sent,n){e.next=31;break}u=c,o.setState({thumbnailHash:u.path}),console.log("thumbnailHash",o.state.thumbnailHash);case 28:n=!0,e.next=17;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(15),a=!0,r=e.t0;case 37:if(e.prev=37,e.prev=38,n||null==s.return){e.next=42;break}return e.next=42,s.return();case 42:if(e.prev=42,!a){e.next=45;break}throw r;case 45:return e.finish(42);case 46:return e.finish(37);case 47:m=!0,d=!1,e.prev=49,h=Object(p.a)(y.add(o.state.videoBuffer));case 51:return e.next=53,h.next();case 53:return g=e.sent,m=g.done,e.next=57,g.value;case 57:if(b=e.sent,m){e.next=66;break}v=b,o.setState({videoHash:v.path}),console.log("videoHash",o.state.videoHash),o.setState({status:"Done!"});case 63:m=!0,e.next=51;break;case 66:e.next=72;break;case 68:e.prev=68,e.t1=e.catch(49),d=!0,f=e.t1;case 72:if(e.prev=72,e.prev=73,m||null==h.return){e.next=77;break}return e.next=77,h.return();case 77:if(e.prev=77,!d){e.next=80;break}throw f;case 80:return e.finish(77);case 81:return e.finish(72);case 82:x(o.state.videoTitle,o.state.thumbnailHash,o.state.videoHash);case 83:case"end":return e.stop()}}),e,null,[[15,33,37,47],[38,,42,46],[49,68,72,82],[73,,77,81]])})));return function(t){return e.apply(this,arguments)}}(),o.state={status:"Submit",videoTitle:"",thumbnailBuffer:"",videoBuffer:"",thumbnailHash:"",videoHash:""},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.onRouteChange;return d.a.createElement("div",null,d.a.createElement(m.Fragment,null,d.a.createElement("div",{className:"navigation-bar-2"},d.a.createElement(f.c,{onClick:function(){return e("home")},color:"mdb-color"},"Home"))),d.a.createElement("div",{className:"section-title"},d.a.createElement("h1",{style:{fontFamily:"Roboto Mono",paddingBottom:"40px"}},"Upload your video below"),d.a.createElement("a",{className:"bounce fa fa-arrow-down fa-2x",style:{paddingBottom:"20px"}}),d.a.createElement("div",{style:{paddingLeft:"10%",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"20px",paddingTop:"60px",paddingBottom:"40px",paddingRight:"80px"}},d.a.createElement("form",{className:"form-inline",style:{paddingBottom:"40px"}},d.a.createElement("h6",{style:{fontFamily:"Roboto Mono"}},"Video Title:"),d.a.createElement("input",{style:{fontFamily:"Roboto Mono"},className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"","aria-label":"Search",onChange:this.onTitleChange})),d.a.createElement("form",{className:"form-inline",style:{paddingBottom:"20px"}},d.a.createElement("h6",{style:{fontFamily:"Roboto Mono"}}," Thumbnail: "),d.a.createElement("input",{style:{fontFamily:"Roboto Mono",paddingLeft:"60px",fontSize:"15px"},type:"file",onChange:this.onThumbnailUpload})),d.a.createElement("form",{className:"form-inline mt-4 mb-4"},d.a.createElement("h6",{style:{fontFamily:"Roboto Mono"}}," Video File: "),d.a.createElement("input",{style:{fontFamily:"Roboto Mono",paddingLeft:"51px",fontSize:"15px"},type:"file",onChange:this.onVideoUpload})),d.a.createElement("form",{style:{paddingTop:"20px"}},d.a.createElement("input",{onClick:this.onSubmit,id:"myBtn",style:{fontFamily:"Roboto Mono",fontSize:"15px"},type:"button",value:this.state.status})))))}}]),a}(d.a.Component);t.a=O}).call(this,n(3).Buffer)},486:function(e,t,n){e.exports=n(1386)},491:function(e,t,n){},661:function(e,t,n){},840:function(e,t,n){},849:function(e,t){},857:function(e,t){},875:function(e,t){},877:function(e,t){},894:function(e,t){},895:function(e,t){},897:function(e,t){},898:function(e,t){},966:function(e,t){},968:function(e,t){},97:function(e,t,n){e.exports=n.p+"static/media/logo.2b470564.svg"},977:function(e,t){},979:function(e,t){}},[[486,1,2]]]);
//# sourceMappingURL=main.74a7f6f6.chunk.js.map